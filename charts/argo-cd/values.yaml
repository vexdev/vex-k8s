argo-cd:
  configs:
    cm:
      dex.config:
        connectors:
          - type: oidc
            id: authentik
            name: authentik
            config:
              issuer: https://authentik.vexdev.com/application/o/argo/
              clientID: $argo-secrets:authentik_client_id
              clientSecret: $argo-secrets:authentik_client_secret
              insecureEnableGroups: true
              scopes:
                - openid
                - profile
                - email
    rbac:
      policy.csv: |
        g, authentik Admins, role:admin
        g, authentik Read-only, role:readonly
  dex:
    enabled: true
  notifications:
    enabled: false
  applicationSet:
    enabled: false
  server:
    extraArgs:
      - --insecure
